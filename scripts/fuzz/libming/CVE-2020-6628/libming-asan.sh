git clone https://github.com/libming/libming.git SRC
###
 # @Author: Radon
 # @Date: 2022-08-15 12:42:09
 # @LastEditors: Radon
 # @LastEditTime: 2022-08-17 17:53:53
 # @Description: Hi, say something
### 

rm -rf ASAN
cp -r SRC ASAN
cd ASAN
git checkout 30170828

mkdir obj-asan

export CC=clang
export CXX=clang++
export ADDITIONAL="-g -fsanitize=address"

./autogen.sh
cd obj-asan
CFLAGS="$ADDITIONAL" CXXFLAGS="$ADDITIONAL" ../configure --disable-shared --prefix=`pwd`
make clean
make

# for f in `ls | grep id`; do echo -e "\n${f}" | cut -d ',' -f 1-3 >> 0.txt | /home/radon/Documents/fuzzing/CIProjs/libming/REPRODUCE-CVE-2020-6628/ASAN/obj-asan/util/swftopython $f 2>&1 | grep SUMMARY | tee -a 0.txt; done

# export ASAN_OPTIONS=allocator_may_return_null=1
# /home/radon/Documents/fuzzing/CIProjs/libming/REPRODUCE-CVE-2020-6628/ASAN/obj-asan/util/swftopython /home/radon/Documents/fuzzing/CIProjs/libming/BadTestcases/libming-CVE-2020-6628/poc
